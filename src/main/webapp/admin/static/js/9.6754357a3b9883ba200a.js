webpackJsonp([9],{"4Mtx":function(e,t){},"5iSX":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a("UVv0")),o=l(a("UjMW")),i=l(a("xplR"));function l(e){return e&&e.__esModule?e:{default:e}}t.default={components:{TkmDialog:o.default,TkmTable:i.default},data:function(){return{dialog:!1,dialogMsg:"",dialogForm:{name:"",type:""},tableData:[],searchOperations:[{name:"查询",action:"onSubmit",type:"normal"},{name:"增加角色",action:"addRole"},{name:"删除",action:"deleteRoles",type:"delete"}],headers:[{name:"角色名称"},{name:"角色类型"}]}},methods:{initData:function(e,t,a){var o=this;n.default.getList.bind(this)({findContent:e.findContent,pageNo:e.pageNo},function(e){o.tableData=e,t()},function(e){a(e)})},rowsOperation:function(e,t,a,o){var i=this;"deleteRole"===e&&(this.dialogMsg="确认要删除这个角色吗？",this.$refs.dialog.openDialog(function(){n.default.deleteOne.bind(i)({row:t},function(e){a(e.message)},function(e){o(e)})},function(){}))},searchOperation:function(e,t,a){var o=this;"deleteRoles"===e?(this.dialogMsg="确认要删除这些角色吗？",this.$refs.dialog.openDialog(function(){n.default.delete.bind(o)({tableData:o.tableData},function(e){t(e.message)},function(e){a(e)})},function(){})):"addRole"===e?this.$refs.dialogForm.openDialog(function(){n.default.addRole.bind(o)({form:o.dialogForm},function(e){t(e.message)},function(e){a(e)})},function(){}):t()}}},e.exports=t.default},DKMo:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("5iSX"),o=a.n(n);for(var i in n)"default"!==i&&function(e){a.d(t,e,function(){return n[e]})}(i);var l=a("Enhn");var r=function(e){a("4Mtx")},d=a("VU/8")(o.a,l.a,!1,r,"data-v-6321da8c",null);t.default=d.exports},Enhn:function(e,t,a){"use strict";var n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",{attrs:{id:"role-list"}},[a("tkm-table",{attrs:{tableData:e.tableData,headers:e.headers,searchOperations:e.searchOperations},on:{"init-data":e.initData,"search-operation":e.searchOperation,"rows-operation":e.rowsOperation}}),e._v(" "),a("tkm-dialog",{ref:"dialogForm",attrs:{title:"添加角色",cancelLabel:"取消",confirmLabel:"确定"}},[a("mu-text-field",{attrs:{label:"角色名称",hintText:"请输入角色名称",labelFloat:""},model:{value:e.dialogForm.name,callback:function(t){e.$set(e.dialogForm,"name",t)},expression:"dialogForm.name"}}),e._v(" "),a("mu-text-field",{attrs:{label:"角色类型",hintText:"请输入角色类型  [字母 + 数字] 6位",labelFloat:""},model:{value:e.dialogForm.type,callback:function(t){e.$set(e.dialogForm,"type",t)},expression:"dialogForm.type"}})],1),e._v(" "),a("tkm-dialog",{ref:"dialog",attrs:{title:"警告",cancelLabel:"取消",confirmLabel:"确定"}},[e._v("\n    "+e._s(e.dialogMsg)+"\n  ")])],1)},staticRenderFns:[]};t.a=n},UVv0:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a("q2NN")),o=i(a("ucif"));function i(e){return e&&e.__esModule?e:{default:e}}t.default={getList:function(e,t,a){var i=new FormData;i.append("findContent",e.findContent),i.append("pageNo",e.pageNo),n.default.post.bind(this)(o.default.role.index,i,t,a,function(e){return{message:e.message,totalCount:e.data.total,rows:e.data.list.map(function(e){return{id:e.id,selected:!1,columns:[{name:"name",value:e.name||"--"},{name:"type",value:e.type||"--"}],operations:[{name:"删除",action:"deleteRole",type:"delete"}]}})}})},delete:function(e,t,a){var i=new FormData;e.tableData.rows.map(function(e){e.selected&&i.append("ids",e.id)}),n.default.post.bind(this)(o.default.role.deleteRoleById,i,t,a,function(e){return e})},deleteOne:function(e,t,a){var i=new FormData;i.append("ids",e.row.id),n.default.post.bind(this)(o.default.role.deleteRoleById,i,t,a,function(e){return e})},addRole:function(e,t,a){var i=new FormData;for(var l in e.form)i.append(l,e.form[l]);n.default.post.bind(this)(o.default.role.addRole,i,t,a,function(e){return e})}},e.exports=t.default}});